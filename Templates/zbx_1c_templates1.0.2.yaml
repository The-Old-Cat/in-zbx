zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: b91b8f978afa45ec90535a9467a60966
      name: '1C Servers'
  templates:
    - uuid: 87120fce24584ee28162f8dd91f8c718
      template: 'Template 1C Cluster'
      name: 'Template 1C Cluster'
      groups:
        - name: '1C Servers'
      items:
        - uuid: 1f77e2bfb0fc4db895dec68b08bbee61
          name: '1C Количество информационных баз'
          key: 1c.infobases.count
          delay: 1h
          tags:
            - tag: App
              value: 1C
        - uuid: ac197ff01ba64bd8a081bb61f62f8feb
          name: '1C Список информационных баз 1С'
          key: 1c.infobases.list
          delay: 1h
          value_type: TEXT
          trends: '0'
          tags:
            - tag: App
              value: 1C
        - uuid: 85a9977ff1ca47a6813b3b291b0b605c
          name: '1C Количество рабочих процессов'
          key: 1c.processes.count
          tags:
            - tag: App
              value: 1C
        - uuid: b765d36e87ec4d1d8c5359ae4a9cf908
          name: '1C Количество  активных сеансов'
          key: 1c.sessions.count
          tags:
            - tag: App
              value: 1C
      discovery_rules:
        - uuid: 2002cd19d38642cda58c6077d9709087
          name: '1C Infobase Discovery'
          key: 1c.infobases.discovery
          delay: 1h
          lifetime: 1h
        - uuid: 19d5ccbacdf940d6aeedfed371171a20
          name: '1C Processes Discovery'
          key: 1c.processes.discovery
          lifetime_type: DELETE_IMMEDIATELY
          lifetime: '0'
          item_prototypes:
            - uuid: a654c178d48f425d8e5d2ceb0534aa31
              name: '1C Process ID: {#PID}  on port {#PORT} "windows_memory" size'
              key: '1c.processes.detail[{#PORT},"windows_memory"]'
              delay: 30s
              value_type: FLOAT
              units: GB
              description: 'объем физической памяти, используемой процессом rphost  системе'
              tags:
                - tag: App
                  value: 1C
            - uuid: 87df44bdfa034f30ab005a6b636a0730
              name: 'Available-perfomance on port {#PORT} ,1C Process ID: {#PID}'
              key: '1c.processes.detail[{#PORT},available_perfomance]'
              delay: 30s
              description: 'Доступная производительность'
              tags:
                - tag: App
                  value: 1C
            - uuid: 07a32a4149b94806a31222ea1059c832
              name: 'Avg call time (ms) on port {#PORT} ,1C Process ID: {#PID}'
              key: '1c.processes.detail[{#PORT},avg_call_time]'
              delay: 30s
              units: ms
              description: 'Среднее время вызова (в секундах) - общее время обработки запросов'
              tags:
                - tag: App
                  value: 1C
            - uuid: e6aa95e7e0494aa69dc95f7f44bd7c9b
              name: 'Avg db call time (s) on port {#PORT} ,1C Process ID: {#PID}'
              key: '1c.processes.detail[{#PORT},avg_db_call_time]'
              delay: 30s
              value_type: FLOAT
              units: s
              description: 'Среднее время обращения к БД (в секундах).'
              tags:
                - tag: App
                  value: 1C
            - uuid: 7d80c8221a6b4b829046548505c61a63
              name: 'Avg lock call time (s) on port {#PORT} ,1C Process ID: {#PID}'
              key: '1c.processes.detail[{#PORT},avg_lock_call_time]'
              delay: 30s
              value_type: FLOAT
              units: s
              description: 'Среднее время ожидания блокировок (в секундах)'
              tags:
                - tag: App
                  value: 1C
            - uuid: 9fbcae12570648988b155bf5cc3e1bab
              name: 'Avg server call time (s) on port {#PORT} ,1C Process ID: {#PID}'
              key: '1c.processes.detail[{#PORT},avg_server_call_time]'
              delay: 30s
              value_type: FLOAT
              units: s
              description: 'Среднее время ожидания блокировок (в секундах)'
              tags:
                - tag: App
                  value: 1C
            - uuid: 5a89cb0748a64ddf83e02d0b05922582
              name: 'Connections on port {#PORT} ,1C Process ID: {#PID}'
              key: '1c.processes.detail[{#PORT},connections]'
              delay: 30s
              description: 'Количество активных соединений к процессу'
              tags:
                - tag: App
                  value: 1C
            - uuid: abb291d4ddfa443e84e8b997049d5307
              name: '1C Process ID: {#PID}  on port {#PORT} memory_size'
              key: '1c.processes.detail[{#PORT},memory_size]'
              delay: 30s
              value_type: FLOAT
              units: MB
              description: 'Размер используемой памяти в килобайтах (KB)'
              tags:
                - tag: App
                  value: 1C
          graph_prototypes:
            - uuid: 65eecc7e22704eff84a03facc443b365
              name: 'Память rphost'
              graph_items:
                - color: 199C0D
                  calc_fnc: ALL
                  item:
                    host: 'Template 1C Cluster'
                    key: '1c.processes.detail[{#PORT},memory_size]'
                - sortorder: '1'
                  color: F63100
                  calc_fnc: ALL
                  item:
                    host: 'Template 1C Cluster'
                    key: '1c.processes.detail[{#PORT},"windows_memory"]'
      tags:
        - tag: App
          value: 1C
      dashboards:
        - uuid: dede814dc92845039df0619f3b141a85
          name: '1С Cluster Average (Среднее значение)'
          pages:
            - name: avg-call-time
              display_period: '120'
              widgets:
                - type: graphprototype
                  width: '72'
                  height: '30'
                  fields:
                    - type: ITEM_PROTOTYPE
                      name: itemid.0
                      value:
                        host: 'Template 1C Cluster'
                        key: '1c.processes.detail[{#PORT},avg_call_time]'
                    - type: STRING
                      name: reference
                      value: QWSPK
                    - type: INTEGER
                      name: rows
                      value: '6'
                    - type: INTEGER
                      name: source_type
                      value: '3'
            - name: avg-db-call-time
              display_period: '120'
              widgets:
                - type: graphprototype
                  width: '72'
                  height: '30'
                  fields:
                    - type: ITEM_PROTOTYPE
                      name: itemid.0
                      value:
                        host: 'Template 1C Cluster'
                        key: '1c.processes.detail[{#PORT},avg_db_call_time]'
                    - type: STRING
                      name: reference
                      value: LJKXT
                    - type: INTEGER
                      name: rows
                      value: '6'
                    - type: INTEGER
                      name: source_type
                      value: '3'
            - name: avg-lock-call-time
              display_period: '120'
              widgets:
                - type: graphprototype
                  width: '72'
                  height: '30'
                  fields:
                    - type: ITEM_PROTOTYPE
                      name: itemid.0
                      value:
                        host: 'Template 1C Cluster'
                        key: '1c.processes.detail[{#PORT},avg_lock_call_time]'
                    - type: STRING
                      name: reference
                      value: DBMUR
                    - type: INTEGER
                      name: rows
                      value: '6'
                    - type: INTEGER
                      name: source_type
                      value: '3'
            - name: avg-server-call-time
              display_period: '120'
              widgets:
                - type: graphprototype
                  width: '72'
                  height: '30'
                  fields:
                    - type: ITEM_PROTOTYPE
                      name: itemid.0
                      value:
                        host: 'Template 1C Cluster'
                        key: '1c.processes.detail[{#PORT},avg_server_call_time]'
                    - type: STRING
                      name: reference
                      value: CFMGN
                    - type: INTEGER
                      name: rows
                      value: '6'
                    - type: INTEGER
                      name: source_type
                      value: '3'
            - name: available-perfomance
              display_period: '120'
              widgets:
                - type: graphprototype
                  width: '72'
                  height: '30'
                  fields:
                    - type: ITEM_PROTOTYPE
                      name: itemid.0
                      value:
                        host: 'Template 1C Cluster'
                        key: '1c.processes.detail[{#PORT},available_perfomance]'
                    - type: STRING
                      name: reference
                      value: CNORF
                    - type: INTEGER
                      name: rows
                      value: '6'
                    - type: INTEGER
                      name: source_type
                      value: '3'
        - uuid: 95c315f88ced41209f7afd2b9f125548
          name: '1С Cluster rphost'
          display_period: '3600'
          pages:
            - name: 'rphost memory_size'
              widgets:
                - type: graphprototype
                  width: '72'
                  height: '18'
                  hide_header: 'YES'
                  fields:
                    - type: ITEM_PROTOTYPE
                      name: itemid.0
                      value:
                        host: 'Template 1C Cluster'
                        key: '1c.processes.detail[{#PORT},memory_size]'
                    - type: STRING
                      name: reference
                      value: GQFBI
                    - type: INTEGER
                      name: rf_rate
                      value: '600'
                    - type: INTEGER
                      name: rows
                      value: '6'
                    - type: INTEGER
                      name: source_type
                      value: '3'
            - name: 'rphost windows_memory'
              widgets:
                - type: graphprototype
                  width: '72'
                  height: '18'
                  hide_header: 'YES'
                  fields:
                    - type: ITEM_PROTOTYPE
                      name: itemid.0
                      value:
                        host: 'Template 1C Cluster'
                        key: '1c.processes.detail[{#PORT},"windows_memory"]'
                    - type: STRING
                      name: reference
                      value: NHEOM
                    - type: INTEGER
                      name: rf_rate
                      value: '600'
                    - type: INTEGER
                      name: rows
                      value: '6'
                    - type: INTEGER
                      name: source_type
                      value: '3'
            - name: 'rphost connections'
              widgets:
                - type: graphprototype
                  width: '72'
                  height: '18'
                  hide_header: 'YES'
                  fields:
                    - type: ITEM_PROTOTYPE
                      name: itemid.0
                      value:
                        host: 'Template 1C Cluster'
                        key: '1c.processes.detail[{#PORT},connections]'
                    - type: STRING
                      name: reference
                      value: JAHYH
                    - type: INTEGER
                      name: rf_rate
                      value: '600'
                    - type: INTEGER
                      name: rows
                      value: '6'
                    - type: INTEGER
                      name: source_type
                      value: '3'
